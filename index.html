<!DOCTYPE html>
<html lang="en">
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Green Power</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0fff0;
            text-align: center;
            padding: 50px;
            position: relative;
            overflow: hidden;
        }
        h1 {
            color: #2e8b57;
        }
        p {
            color: #333;
            font-size: 18px;
        }
        .btn {
            background-color: #2e8b57;
            color: white;
            padding: 10px 20px;
            text-decoration: none;
            border-radius: 5px;
        }

        /* 시금치 애니메이션 */
        .spinach {
            position: absolute;
            left: 0;
            width: 80px;
            animation: float 5s infinite ease-in-out;
        }
        .spinach:nth-child(1) { top: 10%; animation-duration: 4s; }
        .spinach:nth-child(2) { top: 30%; animation-duration: 6s; }
        .spinach:nth-child(3) { top: 50%; animation-duration: 5s; }
        .spinach:nth-child(4) { top: 70%; animation-duration: 7s; }

        @keyframes float {
            0% { transform: translateY(0px) translateX(0px) rotate(0deg); }
            50% { transform: translateY(-20px) translateX(10px) rotate(10deg); }
            100% { transform: translateY(0px) translateX(0px) rotate(0deg); }
        }

        .youtube-btn {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 80px; /* 원하는 크기로 조절 */
    height: auto;
    cursor: pointer;
    transition: transform 0.1s ease-in-out;
}

.youtube-btn:active {
    transform: translate(-50%, -50%) scale(0.9);
}

    
    </style>
</head>
<body>

    <img id="youtubeBtn" src="" alt="YouTube Button" class="youtube-btn">

    <h1>Welcome to Green Power 🍃</h1>
    <p>Boost your brainpower with spinach-powered insights!</p>
    <a href="https://your-ga-report-link.com" class="btn">View Analytics Report</a>

    <a href="https://www.youtube.com/@siigumchi" target="_blank">
    <img src="https://raw.githubusercontent.com/siigumchi/greenpower-site/main/.github/images/youtube1.png" 
         class="youtube-btn" alt="유튜브 버튼">
    </a>


    <!-- 시금치 이미지 추가 -->
    <img src="https://raw.githubusercontent.com/siigumchi/greenpower-site/main/.github/images/spinach1.png" class="spinach">

    <!-- 3D 모델을 표시할 컨테이너
    style 은 시금치맨의 위치와 크기-->
    <model-viewer 
    id="spinachModel"
    src="https://raw.githubusercontent.com/siigumchi/greenpower-site/main/models/siigumchi_man.glb"
    alt="시금치를 든 캐릭터"
    auto-rotate
        auto-rotate-delay="0" 
        rotation-per-second="30deg"
    camera-controls
    disable-zoom
    min-camera-orbit="auto auto 10%"
    max-camera-orbit="auto auto 100%"
    style="position: fixed; top: 60%; left: 70%; transform: translate(-50%, -50%); width: 300px; height: 300px;">
</model-viewer>


<script>
const scriptTags = Array.from(document.querySelectorAll('script'));
const threeScript = scriptTags.find(script => script.src && script.src.includes('three.js'));
const modelViewerScript = scriptTags.find(script => script.src && script.src.includes('model-viewer'));
const inlineScript = scriptTags.find(script => !script.src);

if (threeScript) {
  threeScript.remove();
}
if (modelViewerScript) {
  modelViewerScript.remove();
}
if (inlineScript) {
  inlineScript.remove();
}

if (!window.__THREE__) {
    window.__THREE__ = true; // Three.js가 이미 로드되지 않았을 때만 로드
    const newModuleScript = document.createElement('script');
    newModuleScript.type = 'module';
    newModuleScript.textContent = `
      import * as THREE from 'https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.module.min.js';
      import 'https://cdn.jsdelivr.net/npm/@google/model-viewer@latest';

      document.addEventListener("DOMContentLoaded", function() {
        const model = document.getElementById("spinachModel");

        // 클릭하면 점점 커지는 애니메이션 (scale 속성 변경)
        let scale = 1;
        model.addEventListener("click", () => {
            scale += 0.2; // 클릭할 때마다 20%씩 커짐
            model.setAttribute("scale", \`\${scale} \${scale} \${scale}\`);
        });
      });
    `;
    document.body.appendChild(newModuleScript);
}

    
document.addEventListener("DOMContentLoaded", function() {
    fetch('https://raw.githubusercontent.com/siigumchi/greenpower-site/main/.github/images/youtube_images.json')
      .then(response => response.json())
      .then(data => {
        const youtubeBtn = document.getElementById("youtubeBtn");
        let isClicked = false; // 클릭 상태 저장

        youtubeBtn.src = data.default; // 처음에는 1번 이미지

        // 클릭하면 2번 이미지로 변경
        youtubeBtn.addEventListener("click", () => {
          if (!isClicked) {
            youtubeBtn.src = data.hover; // 클릭 시 2번 이미지
            isClicked = true;
          } else {
            youtubeBtn.src = data.default; // 다시 클릭하면 원래 이미지로
            isClicked = false;
          }
        });
      })
      .catch(error => console.error("JSON 로드 오류:", error));
});
</script>
</body>
</html>
